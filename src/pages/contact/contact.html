<!--
  Generated template for the ContactPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>{{ contact.firstname }} {{ contact.lastname }}</ion-title>
    </ion-navbar>

</ion-header>

<ion-content>

    <ion-grid class="image-tile {{ contact.colorclass }}">
        <img class="contact-image" src={{contact.imageurl}}>
        <label class="contact-char"
            *ngIf="contact.imageurl == '';">{{ contact.firstname | uppercase | slice:0:1 }}</label>

        <ion-toolbar>
            <ion-buttons end>
                <button (click)="unFavourite(contact)" ion-button icon-only *ngIf="contact.isfavourite == 1">
                    <ion-icon name="star"></ion-icon>
                </button>

                <button (click)="favourite(contact)" ion-button icon-only *ngIf="contact.isfavourite == 0">
                    <ion-icon name="star-outline"></ion-icon>
                </button>

                <button (click)="editContact(contact)" ion-button icon-only>
                    <ion-icon name="create"></ion-icon>
                </button>

                <button (click)="openMoreMenu($event)" ion-button icon-only>
                    <ion-icon name="more"></ion-icon>
                </button>
            </ion-buttons>
        </ion-toolbar>

        <h1 class="name">{{ contact.firstname }} {{ contact.lastname }}</h1>

    </ion-grid>
    <div padding>
        <ion-card>
            <ion-list>
                <ion-item-group class="phone">
                    <ion-item (click)="callContact(phone.phone)" *ngFor="let phone of contact.phones">
                        <button ion-button clear item-start large>
                            <ion-icon name="call"></ion-icon>
                        </button>
                        <h2>{{ phone.phone }}</h2>
                        <p>{{ phone.type.displayname }}</p>
                        <button ion-button clear item-end large *ngIf="phone.type.id == 2">
                            <ion-icon (click)="$event.stopPropagation(); textContact(phone.phone)" name="text">
                            </ion-icon>
                        </button>
                    </ion-item>
                </ion-item-group>

                <ion-item-group class="mail">
                    <ion-item (click)="emailContact(email.email)" *ngFor="let email of contact.emails">
                        <button ion-button item-start clear large>
                            <ion-icon name="mail"></ion-icon>
                        </button>
                        <h2>{{ email.email }}</h2>
                        <p>{{ email.type.displayname }}</p>
                    </ion-item>
                </ion-item-group>

                <!-- <ion-item>
                    <button ion-button clear icon-left>
                        <ion-icon name="arrow-down"></ion-icon>
                        See all
                    </button>
                </ion-item> -->

            </ion-list>
        </ion-card>

        <ion-card *ngIf="profilefields.length > 0">
            <ion-list>
                <ion-item-group class="profilefields">
                    <div *ngFor="let profilefield of profilefields">
                        <ion-item *ngIf="!profilefield.issummaryfield">
                            <h2>{{ profilefield.title }}</h2>
                            <p>{{ profilefieldlabels[profilefield.name] }}</p>
                        </ion-item>
                    </div>
                </ion-item-group>
            </ion-list>
        </ion-card>

        <!-- <ion-card>
            <ion-list>
                <ion-list-header>
                    Recent
                </ion-list-header>
                <ion-item>
                    <button ion-button item-start clear large>
                        <ion-icon name="call"></ion-icon>
                    </button>
                    <h2>(02) 5550 1242</h2>
                    <p>Phone</p>
                </ion-item>
            </ion-list>
        </ion-card> -->
    </div>
</ion-content>